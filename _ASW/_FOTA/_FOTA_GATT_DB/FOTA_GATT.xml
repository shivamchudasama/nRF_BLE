<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!-- ===================================================== -->
<!-- BLE ECU FOTA GATT DATABASE                            -->
<!-- Target: Zephyr RTOS                                   -->
<!-- ===================================================== -->

<gatt
    name="FOTA">

  <!-- =================================================== -->
  <!-- FOTA SERVICE                                        -->
  <!-- =================================================== -->
  <service
      name="FOTA_Service"
      uuid="12345678-0000-1000-8000-00805F9B34FB"
      advertise="true">

    <!-- ================================================= -->
    <!-- FOTA CONTROL CHARACTERISTIC                       -->
    <!-- ================================================= -->
    <characteristic
        name="FOTA_Control"
        uuid="12345678-0001-1000-8000-00805F9B34FB"
        properties="write"
        permissions="write">

      <value
          type="uint8"
          length="244"
          variable_length="true"/>
    </characteristic>

    <!-- ================================================= -->
    <!-- ECU IDENTIFIER (TLS STRING)                       -->
    <!-- ================================================= -->
    <characteristic
        name="FOTA_Data_Transfer"
        uuid="12345678-0002-1000-8000-00805F9B34FB"
        properties="write"
        permissions="write">

      <value
          type="uint8"
          max_length="244"
          variable_length="true"/>
    </characteristic>

    <!-- ================================================= -->
    <!-- FOTA STATUS                                       -->
    <!-- ================================================= -->
    <!-- IDLE/ RECEIVING/ STAGING/ ERROR                -->
    <characteristic
        name="FOTA_Status"
        uuid="12345678-0003-1000-8000-00805F9B34FB"
        properties="read notify"
        permissions="read">

      <value
          type="uint8"
          length="4"
          variable_length="false"/>

      <cccd
          read="true"
          write="false"/>
    </characteristic>

    <!-- ================================================= -->
    <!-- FOTA PROGRESS                                     -->
    <!-- ================================================= -->
    <!-- Bytes Received -->
    <characteristic
        name="FOTA_Progress"
        uuid="12345678-0004-1000-8000-00805F9B34FB"
        properties="notify"
        permissions="none">

      <value
          type="uint8"
          length="12"
          variable_length="false"/>

      <cccd
          read="true"
          write="false"/>
    </characteristic>

  </service>

</gatt>
